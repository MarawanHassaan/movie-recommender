2025-04-06 19:20:52 [main] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2025-04-06 19:20:52 [main] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 19:21:00 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 19:21:01 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1ab1d93d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@57167ccb)
2025-04-06 19:21:01 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37753b69) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@602c167e)
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 19:21:07 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 19:21:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 19:21:23 [main] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 32.545 seconds (process running for 33.848)
2025-04-06 20:31:12 [main] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2025-04-06 20:31:12 [main] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 20:31:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 20:31:19 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1ab1d93d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@57167ccb)
2025-04-06 20:31:19 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37753b69) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@602c167e)
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 20:31:21 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 20:31:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 20:31:35 [main] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 24.877 seconds (process running for 26.489)
2025-04-06 20:31:38 [http-nio-8080-exec-3] INFO  c.c.r.controllers.RankingController - Request received for user rankings with userId: 1 and type: both
2025-04-06 20:31:38 [http-nio-8080-exec-3] INFO  c.c.r.controllers.RankingController - Fetching both rank types for userId: 1
2025-04-06 20:31:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.movie_id,r1_0.rank1,r1_0.rank2,r1_0.user_id from ranking r1_0 where r1_0.user_id=?
2025-04-06 20:31:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 where m1_0.id=?
2025-04-06 20:31:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.id=?
2025-04-06 20:31:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 where m1_0.id=?
2025-04-06 20:31:38 [http-nio-8080-exec-3] INFO  c.c.r.controllers.RankingController - Found 2 rankings for userId: 1 with type: both
2025-04-06 20:31:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select g1_0.movie_id,g1_1.id,g1_1.name from movie_genre g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.movie_id=?
2025-04-06 20:31:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select g1_0.movie_id,g1_1.id,g1_1.name from movie_genre g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.movie_id=?
