2025-04-06 00:51:39 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 22500 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 00:51:39 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 00:51:46 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 00:51:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 00:51:48 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 00:51:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 00:51:57 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 19.134 seconds (process running for 20.693)
2025-04-06 00:52:00 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 00:52:00 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 00:52:00 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 00:52:00 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 00:52:01 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 00:52:01 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 00:52:01 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 00:52:01 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 00:52:02 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 00:52:02 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 00:52:02 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 00:52:02 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 00:52:02 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 00:52:02 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 00:52:02 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 00:52:05 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 00:53:14 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 34720 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 00:53:14 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 00:53:16 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 00:53:20 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 00:53:21 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 00:53:21 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 00:54:08 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 32040 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 00:54:08 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 00:54:11 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 00:54:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 00:54:16 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 00:54:16 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 00:55:27 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 24216 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 00:55:27 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 00:55:43 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 00:55:43 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 00:55:45 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 00:55:49 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 00:55:51 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 26.269 seconds (process running for 30.557)
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 00:55:53 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 00:55:53 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 00:55:53 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 00:55:53 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 00:55:53 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 00:55:53 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 00:55:53 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 00:55:54 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 00:55:54 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 00:55:54 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 00:55:54 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 00:55:54 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 00:55:54 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 00:55:55 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 00:56:11 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 27860 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 00:56:11 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 00:56:14 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 00:56:16 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 00:56:17 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 00:56:17 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:01:16 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 24768 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:01:16 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:01:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:01:21 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:01:22 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 01:01:23 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:03:20 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 10260 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:03:20 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:03:23 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:03:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:03:24 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:03:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:03:31 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 11.443 seconds (process running for 12.951)
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:03:33 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:03:33 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:03:33 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:03:33 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:03:33 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:03:33 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:03:33 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:03:34 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:03:34 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:03:34 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:03:34 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:03:34 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:03:34 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:03:36 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:05:03 [main] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication v0.0.1-SNAPSHOT using Java 21.0.6 with PID 19892 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\recommender-0.0.1-SNAPSHOT.jar started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:05:03 [main] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:05:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:05:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:05:15 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 01:05:15 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 25 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 35 common frames omitted
2025-04-06 01:07:49 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 26704 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:07:49 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:07:59 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:07:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:08:05 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:08:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:08:17 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 28.797 seconds (process running for 30.731)
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:08:19 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:08:19 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:08:19 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:08:19 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:08:19 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:08:19 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:08:20 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:08:20 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:08:20 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:08:20 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:08:20 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:08:20 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:08:20 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:08:22 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:09:04 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 28416 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:09:04 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:09:06 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:09:09 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:09:10 [restartedMain] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 6.888 seconds (process running for 7.321)
2025-04-06 01:09:23 [http-nio-8080-exec-9] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:24 [http-nio-8080-exec-3] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:25 [http-nio-8080-exec-4] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:26 [http-nio-8080-exec-6] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:27 [http-nio-8080-exec-7] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:30 [http-nio-8080-exec-5] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:31 [http-nio-8080-exec-8] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:32 [http-nio-8080-exec-2] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:34 [http-nio-8080-exec-10] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:35 [http-nio-8080-exec-1] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:36 [http-nio-8080-exec-9] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:09:37 [http-nio-8080-exec-3] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:10:01 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 26224 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:10:01 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:10:04 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:10:08 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:10:09 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 01:10:09 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:15:22 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 14680 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:15:22 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:15:26 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:15:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:15:27 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:15:31 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:15:34 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 11.973 seconds (process running for 18.111)
2025-04-06 01:15:35 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:15:35 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:15:36 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:15:36 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:15:37 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:15:37 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:15:39 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:15:54 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 31960 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:15:54 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:15:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:16:01 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:16:02 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
2025-04-06 01:16:02 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "users" violates foreign key constraint "fk3fvvh22u2cwktrkpu73la05yp" on table "ranking"
  Detail: Key (id)=(1) is still referenced from table "ranking".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:17:16 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 24060 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:17:16 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:17:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:17:22 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:17:23 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
2025-04-06 01:17:23 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "users" violates foreign key constraint "fk3fvvh22u2cwktrkpu73la05yp" on table "ranking"
  Detail: Key (id)=(1) is still referenced from table "ranking".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:20:35 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 7116 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:20:35 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:20:38 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:20:38 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:20:39 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:20:43 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:20:46 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 11.567 seconds (process running for 13.072)
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:20:48 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:20:48 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:20:48 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:20:48 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:20:48 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:20:48 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:20:49 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:20:49 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:20:49 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:20:49 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:20:49 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:20:49 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:20:49 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:20:51 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:21:10 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 31516 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:21:10 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:21:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:21:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:21:16 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
2025-04-06 01:21:16 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "users" violates foreign key constraint "fk3fvvh22u2cwktrkpu73la05yp" on table "ranking"
  Detail: Key (id)=(1) is still referenced from table "ranking".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:24:26 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 5896 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:24:26 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:24:30 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:24:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:24:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@2173e4d5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@197cc325)
2025-04-06 01:24:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@582ca1e2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66226ab)
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:24:32 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - create table movie_genre (genre_id bigint not null, movie_id bigint not null, primary key (genre_id, movie_id))
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - create table ranking (rank1 integer, rank2 integer, id bigint generated by default as identity, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:24:32 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:24:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:24:42 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 16.955 seconds (process running for 19.163)
2025-04-06 01:24:44 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:24:44 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:24:45 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:24:45 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:24:45 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:24:45 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:24:45 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:24:45 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:24:46 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:24:46 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:24:46 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:24:46 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:24:46 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:24:46 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - delete from genres where id=?
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - select distinct m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?)
2025-04-06 01:24:47 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name=?
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?,?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 where upper(m1_0.title)=upper(?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - delete from users where id=?
2025-04-06 01:24:48 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:24:48 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:24:48 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:25:24 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 27280 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:25:24 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:25:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:25:26 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@d6dc9a8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@2c9e7ddc)
2025-04-06 01:25:26 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@12c488e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3da80c73)
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:25:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:25:29 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:25:30 [restartedMain] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 7.109 seconds (process running for 7.606)
2025-04-06 01:25:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:25:51 [http-nio-8080-exec-1] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:26:09 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 24688 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:26:09 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:26:11 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:26:11 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@52ebb5c8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@22b8656f)
2025-04-06 01:26:11 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3a706323) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@53e187fe)
2025-04-06 01:26:14 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:26:15 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
2025-04-06 01:26:15 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "users" violates foreign key constraint "fk3fvvh22u2cwktrkpu73la05yp" on table "ranking"
  Detail: Key (id)=(1) is still referenced from table "ranking".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:29:22 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 9808 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:29:22 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:29:26 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:29:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:29:26 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@4742466e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@83e5898)
2025-04-06 01:29:26 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c4a03a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@63b58ff4)
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:29:27 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - create table movie_genre (genre_id bigint not null, movie_id bigint not null, primary key (genre_id, movie_id))
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - create table ranking (rank1 integer, rank2 integer, id bigint generated by default as identity, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:29:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:29:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:29:36 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 14.492 seconds (process running for 15.801)
2025-04-06 01:29:38 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:29:38 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:29:39 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:29:39 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:29:39 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:29:39 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:29:39 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:29:39 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:29:40 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:29:40 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:29:40 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:29:40 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:29:40 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:29:40 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:29:41 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:41 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - delete from genres where id=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select distinct m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?,?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 where upper(m1_0.title)=upper(?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - delete from users where id=?
2025-04-06 01:29:42 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:29:42 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:29:42 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:30:49 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 19392 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:30:49 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:30:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:30:54 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@5575a4d8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@69bc7e8)
2025-04-06 01:30:54 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1d4426e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@481f327a)
2025-04-06 01:30:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:30:59 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
2025-04-06 01:30:59 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [seed.sql]: DELETE FROM users
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "users" violates foreign key constraint "fk3fvvh22u2cwktrkpu73la05yp" on table "ranking"
  Detail: Key (id)=(1) is still referenced from table "ranking".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:33:57 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 9848 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:33:57 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:34:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:34:00 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@456bd5fe) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@4b83c1ab)
2025-04-06 01:34:00 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5575a4d8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@69bc7e8)
2025-04-06 01:34:03 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:34:04 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 01:34:04 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:34:28 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 27560 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:34:28 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:34:30 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:34:30 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@61fa1c5f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@731ac4a4)
2025-04-06 01:34:30 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@299357ec) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4889bcf2)
2025-04-06 01:34:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:34:34 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 01:34:34 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "movie_genre_pkey"
  Detail: Key (movie_id, genre_id)=(1, 1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:36:41 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 24316 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:36:41 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:36:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:36:45 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@3c152d67) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@32b93349)
2025-04-06 01:36:45 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7a5db218) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@55489c97)
2025-04-06 01:36:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:36:54 [restartedMain] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 13.351 seconds (process running for 13.955)
2025-04-06 01:37:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:37:11 [http-nio-8080-exec-1] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:37:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:37:16 [http-nio-8080-exec-3] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:43:02 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 26552 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:43:02 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:43:08 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:43:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:43:08 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@6ef61cd0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@2173e4d5)
2025-04-06 01:43:08 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@197cc325) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@582ca1e2)
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:43:09 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - create table movie_genre (genre_id bigint not null, movie_id bigint not null, primary key (genre_id, movie_id))
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - create table ranking (rank1 integer, rank2 integer, id bigint generated by default as identity, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:43:09 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:43:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:43:19 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 17.073 seconds (process running for 18.688)
2025-04-06 01:43:22 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:43:22 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:43:22 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:43:22 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:43:23 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:43:23 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:43:23 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:43:23 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:43:23 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:43:24 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:43:24 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:43:24 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:43:24 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:43:24 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:43:24 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:43:25 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:25 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - delete from genres where id=?
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - select distinct m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name=?
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?,?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 where upper(m1_0.title)=upper(?)
2025-04-06 01:43:26 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - delete from users where id=?
2025-04-06 01:43:27 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:43:27 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:43:27 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:44:41 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 26504 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:44:41 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:44:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:44:44 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@53673daf) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@4fd7e2de)
2025-04-06 01:44:44 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ad6d80c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5e0435d6)
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:44:44 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:44:46 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:44:47 [restartedMain] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 6.889 seconds (process running for 7.316)
2025-04-06 01:44:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:44:56 [http-nio-8080-exec-2] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:45:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:45:06 [http-nio-8080-exec-3] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:45:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:45:07 [http-nio-8080-exec-4] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:45:31 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 12152 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:45:31 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:45:34 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:45:34 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@53673daf) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@4fd7e2de)
2025-04-06 01:45:34 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ad6d80c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5e0435d6)
2025-04-06 01:45:38 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:45:39 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #3 of class path resource [seed.sql]: DELETE FROM movies
2025-04-06 01:45:40 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #3 of class path resource [seed.sql]: DELETE FROM movies
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [seed.sql]: DELETE FROM movies
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "movies" violates foreign key constraint "fk4ybunsndfr9j46lb74cqji004" on table "ranking"
  Detail: Key (id)=(1) is still referenced from table "ranking".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:48:12 [main] INFO  c.c.r.controller.GenreControllerTest - Starting GenreControllerTest using Java 21.0.6 with PID 33632 (started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:48:12 [main] INFO  c.c.r.controller.GenreControllerTest - The following 1 profile is active: "test"
2025-04-06 01:48:25 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgresPlusDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-04-06 01:48:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:48:25 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@4713b631) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@7a0d2c80)
2025-04-06 01:48:25 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6d4d0a14) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1cca3e8c)
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:48:27 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:
set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762)
	at org.h2.command.Parser.parseSet(Parser.java:7592)
	at org.h2.command.Parser.parsePrepared(Parser.java:614)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:561)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - create table movie_genre (genre_id bigint not null, movie_id bigint not null, primary key (genre_id, movie_id))
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - create table ranking (rank1 integer, rank2 integer, id bigint generated by default as identity, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:48:27 [main] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:48:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:48:41 [main] INFO  c.c.r.controller.GenreControllerTest - Started GenreControllerTest in 29.538 seconds (process running for 31.74)
2025-04-06 01:48:43 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 999
2025-04-06 01:48:43 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Update failed.
2025-04-06 01:48:43 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:48:43 [main] WARN  c.c.r.controllers.GenreController - Genre with name 'Action' already exists. Creation aborted.
2025-04-06 01:48:43 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: Action
2025-04-06 01:48:43 [main] INFO  c.c.r.controllers.GenreController - Genre created successfully with name: Action
2025-04-06 01:48:43 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 999
2025-04-06 01:48:43 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found
2025-04-06 01:48:43 [main] INFO  c.c.r.controllers.GenreController - Request called for genre with ID: 1
2025-04-06 01:48:43 [main] INFO  c.c.r.controllers.GenreController - Genre found: Action with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Genre with ID 1 deleted successfully.
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Delete request received for genre with ID: 999
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.GenreController - Genre with ID 999 not found. Deletion aborted.
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Create request received for genre with name: 
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.GenreController - Invalid genre name provided: ''
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Update request received for genre with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Genre found with ID: 1. Updating name from 'Action' to 'Adventure'
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.GenreController - Genre updated successfully with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: 
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.MovieController - Movie creation failed: Title is blank or null.
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.MovieController - Received request to create movie with title: New Movie
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.MovieController - Finding or creating genres for the movie: [Action]
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.MovieController - Movie created successfully with title: New Movie
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - User found with ID: 1. Updating username from 'john_doe' to 'john_updated'
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - User updated successfully with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Get request called for all users
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Delete request received for user with ID: 999
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Deletion aborted.
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - User created successfully with username: john_doe
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 999
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Update request received for user with ID: 999
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.UserController - User with ID 999 not found. Update failed.
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: john_doe
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.UserController - User with username 'john_doe' already exists. Creation aborted.
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Request called for user with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - User found: john_doe with ID: 1
2025-04-06 01:48:44 [main] INFO  c.c.r.controllers.UserController - Create request received for user with username: 
2025-04-06 01:48:44 [main] WARN  c.c.r.controllers.UserController - Invalid genre name provided: ''
2025-04-06 01:48:45 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:45 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - delete from genres where id=?
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0 where g1_0.name=?
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select distinct m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name=?
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movie_genre (movie_id,genre_id) values (?,?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 join movie_genre g1_0 on m1_0.id=g1_0.movie_id join genres g1_1 on g1_1.id=g1_0.genre_id where g1_1.name in (?,?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into genres (name) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into movies (title) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select m1_0.id,m1_0.title from movies m1_0 where upper(m1_0.title)=upper(?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:48:46 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:48:47 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:48:47 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:48:47 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:48:47 [main] DEBUG org.hibernate.SQL - insert into users (username) values (?)
2025-04-06 01:48:47 [main] DEBUG org.hibernate.SQL - delete from users where id=?
2025-04-06 01:48:47 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.username from users u1_0 where u1_0.username=?
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-04-06 01:48:47 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: set client_min_messages = WARNING
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FK3pdaf1ai9eafeypc7qe401l07
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists movie_genre drop constraint if exists FKg7f38h6umffo51no9ywq91438
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK4ybunsndfr9j46lb74cqji004
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - alter table if exists ranking drop constraint if exists FK3fvvh22u2cwktrkpu73la05yp
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists genres cascade
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movie_genre cascade
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists movies cascade
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists ranking cascade
2025-04-06 01:48:47 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-04-06 01:49:03 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 29436 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:49:03 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:49:06 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:49:06 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@f203847) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@71978032)
2025-04-06 01:49:06 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@b27a4d5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@26675964)
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:49:07 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:49:09 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:49:11 [restartedMain] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 8.756 seconds (process running for 9.62)
2025-04-06 01:49:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:49:12 [http-nio-8080-exec-1] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:49:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:49:14 [http-nio-8080-exec-3] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:49:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 01:49:15 [http-nio-8080-exec-4] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 01:49:29 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 33900 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:49:29 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:49:31 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:49:31 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1c069f4c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@2396bde)
2025-04-06 01:49:31 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3c2cc7e1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4c9da2ab)
2025-04-06 01:49:34 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:49:35 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #9 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 01:49:35 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #9 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #9 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "movie_genre" violates foreign key constraint "fk3pdaf1ai9eafeypc7qe401l07"
  Detail: Key (genre_id)=(1) is not present in table "genres".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:51:09 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 15632 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:51:09 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:51:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:51:15 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1c069f4c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@2396bde)
2025-04-06 01:51:15 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3c2cc7e1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4c9da2ab)
2025-04-06 01:51:28 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:51:31 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #9 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
2025-04-06 01:51:31 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #9 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #9 of class path resource [seed.sql]: INSERT INTO movie_genre (movie_id, genre_id) VALUES (1, 1), (1, 4), (2, 1), (2, 2), (3, 1), (3, 3), (4, 2), (4, 4)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "movie_genre" violates foreign key constraint "fk3pdaf1ai9eafeypc7qe401l07"
  Detail: Key (genre_id)=(1) is not present in table "genres".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:56:13 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 14672 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:56:13 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:56:16 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:56:16 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@3c152d67) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@32b93349)
2025-04-06 01:56:16 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7a5db218) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@55489c97)
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 01:56:17 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 01:56:19 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:56:20 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE movie_genre AUTO_INCREMENT = 1
2025-04-06 01:56:20 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE movie_genre AUTO_INCREMENT = 1
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE movie_genre AUTO_INCREMENT = 1
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "AUTO_INCREMENT"
  Position: 25
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 01:58:10 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 34732 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 01:58:10 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 01:58:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 01:58:13 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@2b74005) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@6525ff53)
2025-04-06 01:58:13 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7d67a76) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7a3e8397)
2025-04-06 01:58:16 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 01:58:17 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE movie_genre AUTO_INCREMENT = 1
2025-04-06 01:58:17 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE movie_genre AUTO_INCREMENT = 1
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE movie_genre AUTO_INCREMENT = 1
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "AUTO_INCREMENT"
  Position: 25
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 02:00:53 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 620 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 02:00:53 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 02:00:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 02:00:55 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@3c152d67) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@32b93349)
2025-04-06 02:00:55 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7a5db218) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@55489c97)
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 02:00:56 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 02:00:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 02:00:59 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE ranking AUTO_INCREMENT = 1
2025-04-06 02:00:59 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE ranking AUTO_INCREMENT = 1
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE ranking AUTO_INCREMENT = 1
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "AUTO_INCREMENT"
  Position: 21
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 02:01:55 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 29804 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 02:01:55 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 02:01:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 02:01:57 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@2b74005) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@6525ff53)
2025-04-06 02:01:57 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7d67a76) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7a3e8397)
2025-04-06 02:02:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 02:02:02 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE genres AUTO_INCREMENT = 1
2025-04-06 02:02:02 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE genres AUTO_INCREMENT = 1
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.contenetwise.recommender.RecommenderApplication.main(RecommenderApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of class path resource [seed.sql]: ALTER TABLE genres AUTO_INCREMENT = 1
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "AUTO_INCREMENT"
  Position: 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 33 common frames omitted
2025-04-06 02:06:41 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 16992 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 02:06:41 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 02:06:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 02:06:44 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@55489c97) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40a3fd4c)
2025-04-06 02:06:44 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3bfbbd6a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2ca1157f)
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - create table genres (id bigint generated by default as identity, name varchar(255), primary key (id))
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - create table movie_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id))
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - create table movies (id bigint generated by default as identity, title varchar(255), primary key (id))
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - create table ranking (id bigint generated by default as identity, rank1 integer, rank2 integer, movie_id bigint not null, user_id bigint not null, primary key (id))
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, username varchar(255), primary key (id))
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FK3pdaf1ai9eafeypc7qe401l07 foreign key (genre_id) references genres
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists movie_genre add constraint FKg7f38h6umffo51no9ywq91438 foreign key (movie_id) references movies
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK4ybunsndfr9j46lb74cqji004 foreign key (movie_id) references movies
2025-04-06 02:06:45 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists ranking add constraint FK3fvvh22u2cwktrkpu73la05yp foreign key (user_id) references users
2025-04-06 02:06:47 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 02:06:48 [restartedMain] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 7.264 seconds (process running for 7.814)
2025-04-06 02:06:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 02:06:53 [http-nio-8080-exec-2] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 02:06:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 02:06:55 [http-nio-8080-exec-3] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 02:06:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 02:06:56 [http-nio-8080-exec-4] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 02:06:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 02:06:58 [http-nio-8080-exec-5] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 02:07:46 [restartedMain] INFO  c.c.r.RecommenderApplication - Starting RecommenderApplication using Java 21.0.6 with PID 33460 (C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender\target\classes started by marawan.hassaan in C:\Users\Marawan.Hassaan\Desktop\contentwise\recommender_new - after grafana-prom before log\recommender)
2025-04-06 02:07:46 [restartedMain] INFO  c.c.r.RecommenderApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-06 02:07:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgresPlusDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-06 02:07:48 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@33fd592b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@7cac20e4)
2025-04-06 02:07:48 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3b9eb14) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@48613045)
2025-04-06 02:07:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-06 02:07:52 [restartedMain] INFO  c.c.r.RecommenderApplication - Started RecommenderApplication in 7.137 seconds (process running for 7.659)
2025-04-06 02:08:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 02:08:01 [http-nio-8080-exec-5] INFO  c.c.r.controllers.GenreController - Get request called for all genres
2025-04-06 02:08:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select g1_0.id,g1_0.name from genres g1_0
2025-04-06 02:08:02 [http-nio-8080-exec-7] INFO  c.c.r.controllers.GenreController - Get request called for all genres
